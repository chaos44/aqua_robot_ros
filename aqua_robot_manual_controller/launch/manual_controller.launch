<launch>
  <arg name="raspberry_pi3_address" default="192.168.1.2"/>
  <arg name="raspberry_pi3_password"/>
  <arg name="raspberry_pi3_username"/>
  <machine name="raspberry_pi3" address="$(arg raspberry_pi3_address)" env-loader="/home/tut/ros_remote_env_loader.sh" default="never" user="$(arg raspberry_pi3_username)" password="$(arg raspberry_pi3_password)"/>
  
  <group ns="aqua_robot">
    <node name="arduino" machine="raspberry_pi3" pkg="rosserial_python" type="serial_node.py" args="/dev/ttyACM0" required="true"/>
    <node name="camera" machine="raspberry_pi3" pkg="raspicam_node" type="raspicam_node">
      <param name="camera_info_url" value="package://raspicam_node/camera_info/camerav2_1280x960.yaml"/>
      <param name="width" value="1280"/>
      <param name="height" value="960"/>
      <param name="framerate" value="30"/>

      <param name="camera_frame_id" value="raspicam"/>
    </node>
  </group>
  
  <group ns="aqua_robot_controller">
    <node name="xbox_gamepad" pkg="joy" type="joy_node" required="true"/>
    <node name="manual_controller" pkg="aqua_robot_manual_controller" type="manual_controller" required="true"/>
  </group>
</launch>